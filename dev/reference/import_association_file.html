<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Import the association file from disk — import_association_file • ISAnalytics</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Import the association file from disk — import_association_file" />
<meta property="og:description" content="

Imports the association file and immediately performs a check on
the file system starting from the root to assess the alignment between the
two." />
<meta property="og:image" content="https://calabrialab.github.io/ISAnalytics/logo.png" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ISAnalytics</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">1.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/aggregate_function_usage.html">Working with aggregate functions</a>
    </li>
    <li>
      <a href="../articles/collision_removal.html">Collision removal functionality</a>
    </li>
    <li>
      <a href="../articles/how_to_import_functions.html">How to use import functions</a>
    </li>
    <li>
      <a href="../articles/no_rstudio_usage.html">Using ISAnalytics without RStudio support</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://calabrialab.github.io/ISAnalytics/">
    <span class="fas fa-code-branch"></span>
     
    RELEASE
  </a>
</li>
<li>
  <a href="https://github.com/calabrialab/ISAnalytics/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Import the association file from disk</h1>
    <small class="dont-index">Source: <a href='https://github.com/calabrialab/ISAnalytics/blob/master/R/import-functions.R'><code>R/import-functions.R</code></a></small>
    <div class="hidden name"><code>import_association_file.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><a href='https://lifecycle.r-lib.org/articles/stages.html#maturing'><img src='figures/lifecycle-maturing.svg' alt='[Maturing]' /></a>

Imports the association file and immediately performs a check on
the file system starting from the root to assess the alignment between the
two.</p>
    </div>

    <pre class="usage"><span class='fu'>import_association_file</span><span class='op'>(</span>
  <span class='va'>path</span>,
  root <span class='op'>=</span> <span class='cn'>NULL</span>,
  tp_padding <span class='op'>=</span> <span class='fl'>4</span>,
  dates_format <span class='op'>=</span> <span class='st'>"ymd"</span>,
  separator <span class='op'>=</span> <span class='st'>"\t"</span>,
  filter_for <span class='op'>=</span> <span class='cn'>NULL</span>,
  import_iss <span class='op'>=</span> <span class='cn'>FALSE</span>,
  export_widget_path <span class='op'>=</span> <span class='cn'>NULL</span>,
  convert_tp <span class='op'>=</span> <span class='cn'>TRUE</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>path</th>
      <td><p>The path on disk to the association file.</p></td>
    </tr>
    <tr>
      <th>root</th>
      <td><p>The path on disk of the root folder of Vispa2 output or NULL.
See details.</p></td>
    </tr>
    <tr>
      <th>tp_padding</th>
      <td><p>Timepoint padding, indicates the number of digits of the
"Timepoint" column once imported. Fills the content with 0s up to the length
specified (ex: 1 becomes 0001 with a tp_padding of 4)</p></td>
    </tr>
    <tr>
      <th>dates_format</th>
      <td><p>A single string indicating how dates should be parsed.
Must be a value in: <code><a href='date_formats.html'>date_formats()</a></code></p></td>
    </tr>
    <tr>
      <th>separator</th>
      <td><p>The column separator used in the file</p></td>
    </tr>
    <tr>
      <th>filter_for</th>
      <td><p>A named list where names represent column names that
must be filtered. For example: <code>list(ProjectID = c("PROJECT1", "PROJECT2))</code>
will filter the association file so that it contains only those rows
for which the value of the column "ProjectID" is one of the specified
values. If multiple columns are present in the list all filtering
conditions are applied as a logical AND.</p></td>
    </tr>
    <tr>
      <th>import_iss</th>
      <td><p>Import Vispa2 stats and merge them with the
association file?</p></td>
    </tr>
    <tr>
      <th>export_widget_path</th>
      <td><p>A path on disk to save produced widgets or NULL
if the user doesn't wish to save the html file</p></td>
    </tr>
    <tr>
      <th>convert_tp</th>
      <td><p>Should be time points be converted into months and
years?</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments to pass to <code><a href='import_Vispa2_stats.html'>import_Vispa2_stats</a></code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A tibble with the contents of the association file plus columns
containing the path in the file system for every project and pool if found.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The import series of functions is designed to work in combination
with the use of Vispa2 pipeline, please refer to this article for more
details: <a href='https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5702242/'>VISPA2:
A Scalable Pipeline for High-Throughput Identification
and Annotation of Vector Integration Sites</a>.<br />
The pipeline automatically produces an hierarchical structure in the file
system which follows this schema:</p><ul>
<li><p>/root_folder</p><ul>
<li><p>Optional intermediate folders</p><ul>
<li><p>ProjectID<br />
|_bam<br />
|_bcmuxall<br />
|_bed<br />
|_iss<br />
|_quality<br />
|_report<br />
|_quantification<br />
*|___concatenatePoolIDSeqRun<br /></p></li>
</ul></li>
</ul></li>
</ul>

<p>For each ProjectID there may be several nested PoolIDs. The alignment
function only looks for PoolIDs in the quantification folder, since it's
the location of the matrices to import.
For more details on how to properly use these functions, refer to the
vignette - vignette("how_to_import_functions").<br />
If 'NULL' the file system alignment step is skipped.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='date_formats.html'>date_formats</a></code></p>
<p>Other Import functions: 
<code><a href='import_Vispa2_stats.html'>import_Vispa2_stats</a>()</code>,
<code><a href='import_parallel_Vispa2Matrices_auto.html'>import_parallel_Vispa2Matrices_auto</a>()</code>,
<code><a href='import_parallel_Vispa2Matrices_interactive.html'>import_parallel_Vispa2Matrices_interactive</a>()</code>,
<code><a href='import_single_Vispa2Matrix.html'>import_single_Vispa2Matrix</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>op</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>options</a></span><span class='op'>(</span><span class='st'>"ISAnalytics.widgets"</span> <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='va'>path</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"extdata"</span>, <span class='st'>"ex_association_file.tsv"</span>,
    package <span class='op'>=</span> <span class='st'>"ISAnalytics"</span>
<span class='op'>)</span>
<span class='va'>root_pth</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"extdata"</span>, <span class='st'>"fs.zip"</span>, package <span class='op'>=</span> <span class='st'>"ISAnalytics"</span><span class='op'>)</span>
<span class='va'>root</span> <span class='op'>&lt;-</span> <span class='fu'><a href='unzip_file_system.html'>unzip_file_system</a></span><span class='op'>(</span><span class='va'>root_pth</span>, <span class='st'>"fs"</span><span class='op'>)</span>
<span class='va'>association_file</span> <span class='op'>&lt;-</span> <span class='fu'>import_association_file</span><span class='op'>(</span><span class='va'>path</span>, <span class='va'>root</span>, dates_format <span class='op'>=</span> <span class='st'>"dmy"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>*** Association file import summary ***</span>
#&gt; <span class='message'><span style='color: #0000BB;'>ℹ</span> For detailed report please set option 'ISAnalytics.widgets' to TRUE</span>
#&gt; <span class='message'>* Parsing problems detected: TRUE</span>
#&gt; <span class='message'>* Date parsing problems: TRUE</span>
#&gt; <span class='message'>* Column problems detected: TRUE</span>
#&gt; <span class='message'>* NAs found in important columns: TRUE</span>
#&gt; <span class='message'>* File system alignment: no problems detected</span></div><div class='output co'>#&gt; <span class='message'>*** Association file import summary ***</span>
#&gt; <span class='message'><span style='color: #0000BB;'>ℹ</span> For detailed report please set option 'ISAnalytics.widgets' to TRUE</span>
#&gt; <span class='message'>* Parsing problems detected: TRUE</span>
#&gt; <span class='message'>* Date parsing problems: TRUE</span>
#&gt; <span class='message'>* Column problems detected: TRUE</span>
#&gt; <span class='message'>* NAs found in important columns: TRUE</span>
#&gt; <span class='message'>* File system alignment: no problems detected</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/options.html'>options</a></span><span class='op'>(</span><span class='va'>op</span><span class='op'>)</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Andrea Calabria, Giulio Spinozzi, Giulia Pais.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


